<!doctype html>
<html>
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

		<title>Corso SP 2017, esercizio 1</title>
		<meta name="author" value="Marco Ferrante, marco@csita.unige.it">

		<link rel="stylesheet" href="css/reveal.css">
		<link rel="stylesheet" href="css/theme/white.css">

		<!-- Theme used for syntax highlighting of code -->
		<link rel="stylesheet" href="lib/css/zenburn.css">

		<!-- Printing and PDF exports -->
		<script>
			var link = document.createElement( 'link' );
			link.rel = 'stylesheet';
			link.type = 'text/css';
			link.href = window.location.search.match( /print-pdf/gi ) ? 'css/print/pdf.css' : 'css/print/paper.css';
			document.getElementsByTagName( 'head' )[0].appendChild( link );
		</script>
	</head>
	<body>

	<div class="reveal"><div class="slides">

	<section><h2>Comunicazioni</h2>
				<p>Le comunicazioni passano dal <i>front-channel</i></p>
				<p>Sincronizzare gli orologi :-) tra SP e IdP</p>
				<p>L'utente vede i messaggi: si possono firmare e cifrare</p>
				<aside class="notes">
				Le comunicazioni passano dal browser utente. Eccezioni: ECP profile (server-server)
				5 minuti di tolleranza tipica
				</aside>		
				<p>Per lo sviluppo, si può dirottare il traffico il traffico</p>
<pre><code data-trim>
# Esempio simulazione SP locale:
# file hosts (C:\Windows\System32\drivers\etc\hosts)
127.0.0.1	mio-vero-sp.miodominio
</code></pre>
				<aside class="notes">
				Simulazione a condizione che si disponga della chiave private (e degli altri metadati) dell'SP
				Occorre eseguire l'editor (notepad) come amministratore
				</aside>
				</section>

				<section id="track"><h2>Tracciamento</h2>
<aside class="notes">
Esercizio 1
SP reindirizza all'IdP (protocollo SAML)
L'IdP reindirizza su se stesso (specifico dell'implementazione dell'IdP)

Avviare: 
cd \xampp
xampp_start.exe

Collegarsi a http://localhost/php-saml/demo1/
Attivare "Analizza elemento"
Ingranaggio a destra per disattivare javascript
</aside>
				<ol>
					<li>aprite la pagina ... con Firefox</li>
					<li>tasto destro e "Analizza elemento"</li>
					<li>usate la funzione "network" e disattivate JavaScript</li>
					<li>cliccate su Login</li>
				</ol>
				<img src="firefox-debug-1.png">
				</section>

				<section>
<aside class="notes">
http://localhost/simplesaml/saml2/idp/SSOService.php?SAMLRequest=hVNNj9owEL3zK1DuwQkJu8GCVBT6gUQhImkPvVTGnhRLjp3aTpf993U+tktXu9QHR5qZ9+bN82RhSCVqvGrsWR7hVwPGjsbuXCohDe6SS6/REitiuMGSVGCwpThffdnh6STAtVZWUSW8F7DbKGIMaMuV7GHbzdI77D/sDp+2+x/sROJp7A6L5mx2F98HLKKzMknCaRTNTsk8KsuYhnEP/QbaOJ6l52i9Uc9mTANbaSyR1sWD8N4PEj+8K8IExxEO5t976MYNyyWxHfxsbY0REooScVbGIsOrWkA7CmqvKeKsRnl+yEH/5hQm9bnuabLBgfdcMi5/3h781BcZ/LkoMj875EVPsnoyZK2kaSrQQ5uvx90r2lxvv1PGoFIhcpxwaQW9I9R4aUe4aPO4s0Kn/yOowBJGLGk5Fuga+cxV472bZrvJlOD0sYu356PSFbFvDx1Owi7CmV92pbiRpgbKSw7M+0uzEkI9rDUQC0vP6ga8Mfqn+bCcwLpVdS5ZuNjxWlU10dy0LwgXQu0w/bMD1+Vr4fbuCGV6czUppm2dC2fu86A0a18YqOtdaOLEK20Hk14l71WjG7LT0VP6+r9L/wA=&RelayState=http://localhost/php-saml/demo1/

\xampp\php\php -r "echo gzinflate(base64_decode('...'));"
</aside>
				<ol>
					<li>copiate il contenuto della variabile <var>SAMLRequest</var><br />
					<pre><code data-trim data-noescape>
					http://localhost/simplesaml/saml2/idp/SSOService.php?
					  <mark>SAMLRequest=hVNNj9owEL...</mark>
					  &RelayState=http://loca...
					</code></pre>
					</li>
					<li>decodificatelo con <pre><code data-trim>php -r "echo gzinflate(base64_decode('hVNNj9owEL...'));</code></pre></li>
				</ol>			
				</section>

				<section>
<aside class="notes">
</aside>

<pre><code class="XML" data-trim>
<samlp:AuthnRequest
    xmlns:samlp="urn:oasis:names:tc:SAML:2.0:protocol"
    xmlns:saml="urn:oasis:names:tc:SAML:2.0:assertion"
    ID="ONELOGIN_dba424444d39d56470d3c5f8812335b893ff4c14"
    Version="2.0"

    IssueInstant="2017-08-16T18:43:09Z"
    Destination="http://localhost/simplesaml/saml2/idp/SSOService.php"
    ProtocolBinding="urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST"
    AssertionConsumerServiceURL="http://localhost/php-saml/demo1/index.php?acs">
    <saml:Issuer>http://localhost/php-saml/demo1/metadata.php</saml:Issuer>
    <samlp:NameIDPolicy
        Format="urn:oasis:names:tc:SAML:1.1:nameid-format:unspecified"
        AllowCreate="true" />
    <samlp:RequestedAuthnContext Comparison="exact">
        <saml:AuthnContextClassRef>urn:oasis:names:tc:SAML:2.0:ac:classes:PasswordProtectedTransport</saml:AuthnContextClassRef>
    </samlp:RequestedAuthnContext>
</samlp:AuthnRequest>
</code>
</pre>
				
				</section>

				<section>
<aside class="notes">
admin:Cambiami!

L'IdP gestisce l'autenticazione (specifico dell'implementazione dell'IdP)
L'IdP rimanda ad una pagina con la risposta (che d norma non si vede perché fa l'autosubmit via JavaScript)
</aside>
				<ol>
					<li>inserite le credenziali ....</li>
					<li>cliccate "Invia"</li>
					<li>tasto destro e "Visualizza sorgente" 					<pre><code data-trim>
... onload="document.getElementsByTagName('input')[0].click();"...
</code>
					</pre></li>
					<li>trovate <pre><code data-trim>
					
<input type="hidden" name="SAMLResponse" value="PHNhbWxwOl..." /><input type="hidden" name="RelayState" value="http://localhost/php-saml/demo1/">
</code>
					</pre></li>
					<li>decodificate il valore di <var>SAMLResponse</var> con <pre><code data-trim>php -r "echo base64_decode('PHNhbWxwOl...');</code></pre></li>
				</ol>
				</section>

				<section>
<aside class="notes">
SAMLResponse=PHNhbWxwOlJlc3BvbnNlIHhtbG5zOnNhbWxwPSJ1cm46b2FzaXM6bmFtZXM6dGM6U0FNTDoyLjA6cHJvdG9jb2wiIHhtbG5zOnNhbWw9InVybjpvYXNpczpuYW1lczp0YzpTQU1MOjIuMDphc3NlcnRpb24iIElEPSJfYjMzM2NjMWVmYTNmOWI4MDgxZGU3Mjg5ZDQyYzExODQ1NTRkYmJhZWE4IiBWZXJzaW9uPSIyLjAiIElzc3VlSW5zdGFudD0iMjAxNy0wOC0yMFQwOTozNDowNFoiIERlc3RpbmF0aW9uPSJodHRwOi8vbG9jYWxob3N0L3BocC1zYW1sL2RlbW8xL2luZGV4LnBocD9hY3MiIEluUmVzcG9uc2VUbz0iT05FTE9HSU5fMWRhMDNiMjRiY2EyZTNhY2IzOTdjMjM3MDg1NDc3ZDY5YjE2YmVmNSI+PHNhbWw6SXNzdWVyPnVybjptaW90ZXNzb3JvPC9zYW1sOklzc3Vlcj48ZHM6U2lnbmF0dXJlIHhtbG5zOmRzPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwLzA5L3htbGRzaWcjIj4KICA8ZHM6U2lnbmVkSW5mbz48ZHM6Q2Fub25pY2FsaXphdGlvbk1ldGhvZCBBbGdvcml0aG09Imh0dHA6Ly93d3cudzMub3JnLzIwMDEvMTAveG1sLWV4Yy1jMTRuIyIvPgogICAgPGRzOlNpZ25hdHVyZU1ldGhvZCBBbGdvcml0aG09Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvMDkveG1sZHNpZyNyc2Etc2hhMSIvPgogIDxkczpSZWZlcmVuY2UgVVJJPSIjX2IzMzNjYzFlZmEzZjliODA4MWRlNzI4OWQ0MmMxMTg0NTU0ZGJiYWVhOCI+PGRzOlRyYW5zZm9ybXM+PGRzOlRyYW5zZm9ybSBBbGdvcml0aG09Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvMDkveG1sZHNpZyNlbnZlbG9wZWQtc2lnbmF0dXJlIi8+PGRzOlRyYW5zZm9ybSBBbGdvcml0aG09Imh0dHA6Ly93d3cudzMub3JnLzIwMDEvMTAveG1sLWV4Yy1jMTRuIyIvPjwvZHM6VHJhbnNmb3Jtcz48ZHM6RGlnZXN0TWV0aG9kIEFsZ29yaXRobT0iaHR0cDovL3d3dy53My5vcmcvMjAwMC8wOS94bWxkc2lnI3NoYTEiLz48ZHM6RGlnZXN0VmFsdWU+VCtIbU8yTkcrR29UMTJUSTRuSmY2aU1VWXhFPTwvZHM6RGlnZXN0VmFsdWU+PC9kczpSZWZlcmVuY2U+PC9kczpTaWduZWRJbmZvPjxkczpTaWduYXR1cmVWYWx1ZT5ocTNsTndIVmxQZUc0eTVZak0wekpFSjNIYzFHOG43cVBrOXZkQkZqeXlScUkxMnpxSmJyUjVSbTZCMHU5VWY0TlhwNC9RYVhZSlliUmJEOFpEM2U5Mm5hZ2RnV055Sk9XcjNTdGtBdithQStUZ1oySE9qL2N1L0VESFpjeUNoSS9VU05ZSWt5REFRMEZzOEk5ckdwdzVtMXpnZkc2Z0M2UDc2K1VNeDlHNTFPN0FrQVFXTGkvRlVxNXZSd3RRdTRjMVY3QTYrY0d5cWpiQUhGR0dRUnptSWZGTEFaOTRPWFpBSXNuSU10VmVKZjU1VHRyN2h3bFNWZS96RjdsYUU3L1BEQlhHNHpNUjZSY2gvWkt6MjFPdUUrMXlVaGlXLzFubzg1RVRqRE9oMUVZNUQ0NHQyb0JiRDBHMlkvbUpJbjMvV2dyS3VGd09MVnJrTDRoSjdDNlE9PTwvZHM6U2lnbmF0dXJlVmFsdWU+CjxkczpLZXlJbmZvPjxkczpYNTA5RGF0YT48ZHM6WDUwOUNlcnRpZmljYXRlPk1JSURYVENDQWtXZ0F3SUJBZ0lKQVBUb0w5ekZ1emFxTUEwR0NTcUdTSWIzRFFFQkN3VUFNRVV4Q3pBSkJnTlZCQVlUQWtGVk1STXdFUVlEVlFRSURBcFRiMjFsTFZOMFlYUmxNU0V3SHdZRFZRUUtEQmhKYm5SbGNtNWxkQ0JYYVdSbmFYUnpJRkIwZVNCTWRHUXdIaGNOTVRZd056STJNVFEwTURJM1doY05Nall3TnpJMk1UUTBNREkzV2pCRk1Rc3dDUVlEVlFRR0V3SkJWVEVUTUJFR0ExVUVDQXdLVTI5dFpTMVRkR0YwWlRFaE1COEdBMVVFQ2d3WVNXNTBaWEp1WlhRZ1YybGtaMmwwY3lCUWRIa2dUSFJrTUlJQklqQU5CZ2txaGtpRzl3MEJBUUVGQUFPQ0FROEFNSUlCQ2dLQ0FRRUEyUVpMVUYzYUg5UlYrRUZsVkZRR0VSREc5bnhWUk1CeUZGcXdpdHpkZk1uMTNlUnVPYXR2akNDVUpFTjY2Nzh2enQySXNxMWwrOWFGNWE2Ymt6K2NBc1pGY0ZieUFQbi8yMDBndUZDazhObnhPaVQrRGxDRHdZTFZFb2hYQnJsRUpGaWtvcG50TnZhbTZzZlFkckFVWE9abmZsR0JpK28veGEveFpiMHFmK1NYTnk2SnAxWjcydENWdmtXOVpMVFNqYlJPODlJblZBVE45em8zbzB1SUtFU0tWV0ovNGpJQVFFODRrbDlXQkU4VFpSZ1dCcU1pMnFGSHVaa3NPOEpIRXQrYlFwSW4vMEdvMUltV2c2dkVwaHo3QmhtZEMxNG13cFIyLy9qdzR1NlZqaitQQjNLMFlDKzFBcG1Ea3p1WlJPRXN4K0dqUkZacTVsdFBvb2UrOFFJREFRQUJvMUF3VGpBZEJnTlZIUTRFRmdRVU9YNlFNNytBcURFOHB4REdkVGRaU01QY0tNZ3dId1lEVlIwakJCZ3dGb0FVT1g2UU03K0FxREU4cHhER2RUZFpTTVBjS01nd0RBWURWUjBUQkFVd0F3RUIvekFOQmdrcWhraUc5dzBCQVFzRkFBT0NBUUVBMTJmZitEN1o2UERxT3VJaEg3Q1JMMnIwbjlMcEExM0Q5eVpWYUpPTVFBVmhBWUp6dVQzaTlRMlhFaERPUWJ3d2hSTTRwR1ZJd3ZUQjBnQWdibXZra1ovZTd0Vit3Nmk3WGxDS05OaGtMKzk5T2pWdW4xUU1nMktLMjZkZ1hZMzhtN3MzRU5vcEVkMEFtcksxbFlGWlo2NElwUW1jamYxSkNrRExWcXdWTXNzVmhpSEJiYld6clB4WFJMbXppMWpOUnpHcFVXUlFNUTVERDMrMGcydEhpK1FTaWp5V2RCd1NoWm9odmxBNEVlUzBnbmVuT1UyMUpENXFqL29pNGhxc0dERXdFVU5sa0VPVVE2eW5Ybng0REJiSzBXZDkwcE1DdWpyNXg4M1BlQlczVm93Zjl3TjNKeU55eXgvUUFrTUpQeU1qSGgxL0cvY2h4Q0k3WGFQdTFBPT08L2RzOlg1MDlDZXJ0aWZpY2F0ZT48L2RzOlg1MDlEYXRhPjwvZHM6S2V5SW5mbz48L2RzOlNpZ25hdHVyZT48c2FtbHA6U3RhdHVzPjxzYW1scDpTdGF0dXNDb2RlIFZhbHVlPSJ1cm46b2FzaXM6bmFtZXM6dGM6U0FNTDoyLjA6c3RhdHVzOlN1Y2Nlc3MiLz48L3NhbWxwOlN0YXR1cz48c2FtbDpBc3NlcnRpb24geG1sbnM6eHNpPSJodHRwOi8vd3d3LnczLm9yZy8yMDAxL1hNTFNjaGVtYS1pbnN0YW5jZSIgeG1sbnM6eHM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDEvWE1MU2NoZW1hIiBJRD0iX2NjYTQ5YTdlOTI5ODI1NWNhOTFlOGRmMzlmNmViNDgyN2UwMTQ3NTU3MSIgVmVyc2lvbj0iMi4wIiBJc3N1ZUluc3RhbnQ9IjIwMTctMDgtMjBUMDk6MzQ6MDRaIj48c2FtbDpJc3N1ZXI+dXJuOm1pb3Rlc3Nvcm88L3NhbWw6SXNzdWVyPjxzYW1sOlN1YmplY3Q+PHNhbWw6TmFtZUlEIFNQTmFtZVF1YWxpZmllcj0iaHR0cDovL2xvY2FsaG9zdC9waHAtc2FtbC9kZW1vMS9tZXRhZGF0YS5waHAiIEZvcm1hdD0idXJuOm9hc2lzOm5hbWVzOnRjOlNBTUw6MS4xOm5hbWVpZC1mb3JtYXQ6dW5zcGVjaWZpZWQiPmQyM2JlOGYyYzI1ZDAxY2JlOGY2Nzg4NGFjOTg4NmYwMDIxOTNkOTA8L3NhbWw6TmFtZUlEPjxzYW1sOlN1YmplY3RDb25maXJtYXRpb24gTWV0aG9kPSJ1cm46b2FzaXM6bmFtZXM6dGM6U0FNTDoyLjA6Y206YmVhcmVyIj48c2FtbDpTdWJqZWN0Q29uZmlybWF0aW9uRGF0YSBOb3RPbk9yQWZ0ZXI9IjIwMTctMDgtMjBUMDk6Mzk6MDRaIiBSZWNpcGllbnQ9Imh0dHA6Ly9sb2NhbGhvc3QvcGhwLXNhbWwvZGVtbzEvaW5kZXgucGhwP2FjcyIgSW5SZXNwb25zZVRvPSJPTkVMT0dJTl8xZGEwM2IyNGJjYTJlM2FjYjM5N2MyMzcwODU0NzdkNjliMTZiZWY1Ii8+PC9zYW1sOlN1YmplY3RDb25maXJtYXRpb24+PC9zYW1sOlN1YmplY3Q+PHNhbWw6Q29uZGl0aW9ucyBOb3RCZWZvcmU9IjIwMTctMDgtMjBUMDk6MzM6MzRaIiBOb3RPbk9yQWZ0ZXI9IjIwMTctMDgtMjBUMDk6Mzk6MDRaIj48c2FtbDpBdWRpZW5jZVJlc3RyaWN0aW9uPjxzYW1sOkF1ZGllbmNlPmh0dHA6Ly9sb2NhbGhvc3QvcGhwLXNhbWwvZGVtbzEvbWV0YWRhdGEucGhwPC9zYW1sOkF1ZGllbmNlPjwvc2FtbDpBdWRpZW5jZVJlc3RyaWN0aW9uPjwvc2FtbDpDb25kaXRpb25zPjxzYW1sOkF1dGhuU3RhdGVtZW50IEF1dGhuSW5zdGFudD0iMjAxNy0wOC0yMFQwOTozNDowNFoiIFNlc3Npb25Ob3RPbk9yQWZ0ZXI9IjIwMTctMDgtMjBUMTc6MzQ6MDRaIiBTZXNzaW9uSW5kZXg9Il85ODIwNmM1NWIxYTBkM2E1YWJkMjNlOTU2YWU3OGY5NWE4MjY1YTYzMmYiPjxzYW1sOkF1dGhuQ29udGV4dD48c2FtbDpBdXRobkNvbnRleHRDbGFzc1JlZj51cm46b2FzaXM6bmFtZXM6dGM6U0FNTDoyLjA6YWM6Y2xhc3NlczpQYXNzd29yZDwvc2FtbDpBdXRobkNvbnRleHRDbGFzc1JlZj48L3NhbWw6QXV0aG5Db250ZXh0Pjwvc2FtbDpBdXRoblN0YXRlbWVudD48c2FtbDpBdHRyaWJ1dGVTdGF0ZW1lbnQ+PHNhbWw6QXR0cmlidXRlIE5hbWU9InVzZXIiIE5hbWVGb3JtYXQ9InVybjpvYXNpczpuYW1lczp0YzpTQU1MOjIuMDphdHRybmFtZS1mb3JtYXQ6YmFzaWMiPjxzYW1sOkF0dHJpYnV0ZVZhbHVlIHhzaTp0eXBlPSJ4czpzdHJpbmciPmFkbWluPC9zYW1sOkF0dHJpYnV0ZVZhbHVlPjwvc2FtbDpBdHRyaWJ1dGU+PC9zYW1sOkF0dHJpYnV0ZVN0YXRlbWVudD48L3NhbWw6QXNzZXJ0aW9uPjwvc2FtbHA6UmVzcG9uc2U+
</aside>

					<pre><code data-trim>
<samlp:Response xmlns:samlp="urn:oasis:names:tc:SAML:2.0:protocol" xmlns:saml="urn:oasis:names:tc:SAML:2.0:assertion" ID="_b333cc1efa3f9b8081de7289d42c1184554dbbaea8" Version="2.0" IssueInstant="2017-08-20T09:34:04Z" Destination="http://localhost/php-saml/demo1/index.php?acs" InResponseTo="ONELOGIN_1da03b24bca2e3acb397c237085477d69b16bef5"><saml:Issuer>urn:miotessoro</saml:Issuer><ds:Signature xmlns:ds="http://www.w3.org/2000/09/xmldsig#">
  <ds:SignedInfo><ds:CanonicalizationMethod Algorithm="http://www.w3.org/2001/10/xml-exc-c14n#"/>
    <ds:SignatureMethod Algorithm="http://www.w3.org/2000/09/xmldsig#rsa-sha1"/>
  <ds:Reference URI="#_b333cc1efa3f9b8081de7289d42c1184554dbbaea8"><ds:Transforms><ds:Transform Algorithm="http://www.w3.org/2000/09/xmldsig#enveloped-signature"/><ds:Transform Algorithm="http://www.w3.org/2001/10/xml-exc-c14n#"/></ds:Transforms><ds:DigestMethod Algorithm="http://www.w3.org/2000/09/xmldsig#sha1"/><ds:DigestValue>T+HmO2NG+GoT12TI4nJf6iMUYxE=</ds:DigestValue></ds:Reference></ds:SignedInfo><ds:SignatureValue>hq3lNwHVlPeG4y5YjM0zJEJ3Hc1G8n7qPk9vdBFjyyRqI12zqJbrR5Rm6B0u9Uf4NXp4/QaXYJYbRbD8ZD3e92nagdgWNyJOWr3StkAv+aA+TgZ2HOj/cu/EDHZcyChI/USNYIkyDAQ0Fs8I9rGpw5m1zgfG6gC6P76+UMx9G51O7AkAQWLi/FUq5vRwtQu4c1V7A6+cGyqjbAHFGGQRzmIfFLAZ94OXZAIsnIMtVeJf55Ttr7hwlSVe/zF7laE7/PDBXG4zMR6Rch/ZKz21OuE+1yUhiW/1no85ETjDOh1EY5D44t2oBbD0G2Y/mJIn3/WgrKuFwOLVrkL4hJ7C6Q==</ds:SignatureValue>
<ds:KeyInfo><ds:X509Data><ds:X509Certificate>MIIDXTCCAkWgAwIBAgIJAPToL9zFuzaqMA0GCSqGSIb3DQEBCwUAMEUxCzAJBgNVBAYTAkFVMRMwEQYDVQQIDApTb21lLVN0YXRlMSEwHwYDVQQKDBhJbnRlcm5ldCBXaWRnaXRzIFB0eSBMdGQwHhcNMTYwNzI2MTQ0MDI3WhcNMjYwNzI2MTQ0MDI3WjBFMQswCQYDVQQGEwJBVTETMBEGA1UECAwKU29tZS1TdGF0ZTEhMB8GA1UECgwYSW50ZXJuZXQgV2lkZ2l0cyBQdHkgTHRkMIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEA2QZLUF3aH9RV+EFlVFQGERDG9nxVRMByFFqwitzdfMn13eRuOatvjCCUJEN6678vzt2Isq1l+9aF5a6bkz+cAsZFcFbyAPn/200guFCk8NnxOiT+DlCDwYLVEohXBrlEJFikopntNvam6sfQdrAUXOZnflGBi+o/xa/xZb0qf+SXNy6Jp1Z72tCVvkW9ZLTSjbRO89InVATN9zo3o0uIKESKVWJ/4jIAQE84kl9WBE8TZRgWBqMi2qFHuZksO8JHEt+bQpIn/0Go1ImWg6vEphz7BhmdC14mwpR2//jw4u6Vjj+PB3K0YC+1ApmDkzuZROEsx+GjRFZq5ltPooe+8QIDAQABo1AwTjAdBgNVHQ4EFgQUOX6QM7+AqDE8pxDGdTdZSMPcKMgwHwYDVR0jBBgwFoAUOX6QM7+AqDE8pxDGdTdZSMPcKMgwDAYDVR0TBAUwAwEB/zANBgkqhkiG9w0BAQsFAAOCAQEA12ff+D7Z6PDqOuIhH7CRL2r0n9LpA13D9yZVaJOMQAVhAYJzuT3i9Q2XEhDOQbwwhRM4pGVIwvTB0gAgbmvkkZ/e7tV+w6i7XlCKNNhkL+99OjVun1QMg2KK26dgXY38m7s3ENopEd0AmrK1lYFZZ64IpQmcjf1JCkDLVqwVMssVhiHBbbWzrPxXRLmzi1jNRzGpUWRQMQ5DD3+0g2tHi+QSijyWdBwShZohvlA4EeS0gnenOU21JD5qj/oi4hqsGDEwEUNlkEOUQ6ynXnx4DBbK0Wd90pMCujr5x83PeBW3Vowf9wN3JyNyyx/QAkMJPyMjHh1/G/chxCI7XaPu1A==</ds:X509Certificate></ds:X509Data></ds:KeyInfo></ds:Signature><samlp:Status><samlp:StatusCode Value="urn:oasis:names:tc:SAML:2.0:status:Success"/></samlp:Status><saml:Assertion xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xs="http://www.w3.org/2001/XMLSchema" ID="_cca49a7e9298255ca91e8df39f6eb4827e01475571" Version="2.0" IssueInstant="2017-08-20T09:34:04Z"><saml:Issuer>urn:miotessoro</saml:Issuer><saml:Subject><saml:NameID SPNameQualifier="http://localhost/php-saml/demo1/metadata.php" Format="urn:oasis:names:tc:SAML:1.1:nameid-format:unspecified">d23be8f2c25d01cbe8f67884ac9886f002193d90</saml:NameID><saml:SubjectConfirmation Method="urn:oasis:names:tc:SAML:2.0:cm:bearer"><saml:SubjectConfirmationData NotOnOrAfter="2017-08-20T09:39:04Z" Recipient="http://localhost/php-saml/demo1/index.php?acs" InResponseTo="ONELOGIN_1da03b24bca2e3acb397c237085477d69b16bef5"/></saml:SubjectConfirmation></saml:Subject><saml:Conditions NotBefore="2017-08-20T09:33:34Z" NotOnOrAfter="2017-08-20T09:39:04Z"><saml:AudienceRestriction><saml:Audience>http://localhost/php-saml/demo1/metadata.php</saml:Audience></saml:AudienceRestriction></saml:Conditions><saml:AuthnStatement AuthnInstant="2017-08-20T09:34:04Z" SessionNotOnOrAfter="2017-08-20T17:34:04Z" SessionIndex="_98206c55b1a0d3a5abd23e956ae78f95a8265a632f"><saml:AuthnContext><saml:AuthnContextClassRef>urn:oasis:names:tc:SAML:2.0:ac:classes:Password</saml:AuthnContextClassRef></saml:AuthnContext></saml:AuthnStatement><saml:AttributeStatement><saml:Attribute Name="user" NameFormat="urn:oasis:names:tc:SAML:2.0:attrname-format:basic"><saml:AttributeValue xsi:type="xs:string">admin</saml:AttributeValue></saml:Attribute></saml:AttributeStatement></saml:Assertion></samlp:Response>
</code>
					</pre>
				
				</section>

		<section><h2>Strumenti di debugging</h2>
		<ul>
		<li>Mozilla Firefox: <a href="https://addons.mozilla.org/it/firefox/addon/saml-tracer/">SAML tracer</a></li>
		<li>Mozilla Firefox: <a href="https://addons.mozilla.org/En-us/firefox/addon/sso-tracer/">SSO Tracer</a></li>
		<li>Google Chrome: <a href="https://chrome.google.com/webstore/detail/saml-chrome-panel/">SAML Chrome Panel</a></li>
		<li>Google Chrome: <a href="https://chrome.google.com/webstore/detail/saml-devtools-extension/">SAML DevTools extension</a></li>
		<li>Notepad++: <a href="http://docs.notepad-plus-plus.org/index.php/Plugin_Central">MIME Tools</a></li>
		</ul>
		<p><a href="index.html#/es1">torniamo...</a></p>
		<aside class="notes">
		https://www.netiq.com/communities/cool-solutions/useful-firefox-saml-tool-debugging-problems/
		https://ping.force.com/Support/PingIdentityArticle?id=kA3400000008S68CAE
		https://www.samltool.com/saml_tools.php
		</aside>
		</section>				
				
		
		</div></div>
		<script src="lib/js/head.min.js"></script>
		<script src="js/reveal.js"></script>

		<script>
			// More info about config & dependencies:
			// - https://github.com/hakimel/reveal.js#configuration
			// - https://github.com/hakimel/reveal.js#dependencies
			Reveal.initialize({
				dependencies: [
					{ src: 'plugin/markdown/marked.js' },
					{ src: 'plugin/markdown/markdown.js' },
					{ src: 'plugin/notes/notes.js', async: true },
					{ src: 'plugin/highlight/highlight.js', async: true, callback: function() { hljs.initHighlightingOnLoad(); } },
					{ src: 'plugin/menu/menu.js' }
				]
			});
		</script>
	</body>
</html>
